<section>
  <p>Here are the details of the game.</p>
  <p>Go to the location listed at the appointed time to join in.</p>
</section>

<ul class="game-listing">
  <li class="game-name">{{gc.game.name}}</li>
  <li class="game-time">{{gc.game.time | date:'EEE, h:mm a'}}</li>
  <li class="game-location">{{gc.game.location}}</li>
  <li class="game-players">We need {{gc.game.players}} player(s).</li>
</ul>
<!-- <button>Edit Game</button>
<button ng-click='gc.deleteEvent()'>Delete Game</button> -->

<button ng-click='gc.askEditPost(); $event.stopPropagation();'>Edit</button>
<button ng-click='gc.askDeletePost(); $event.stopPropagation();'>Delete</button>


<div ng-show="gc.editAreYouSure">
  <div class="modal-bg"></div>
  <form class="delete-event">
    <p>Please enter this games's PIN to edit it.</p>
    <input type='tel' ng-model='gc.editPin'>
    <p ng-show='gc.wrongPin'>{{gc.wrongPin}}</p>
    <button ng-click='gc.editCheck(gc.game.$id, gc.game.pin)' type='submit'>Edit</button>
    <button ng-click='gc.doNotDeletePost(); gc.more[$index] = !gc.more[$index]' type='button'>Go Back</button>
  </form>

  <form class='edit-event' ng-show='gc.validEditCheck' ng-submit='gc.editEvent(gc.game)'>
    <label>Game:</label><input type='text' class='form-control' ng-model='gc.game.name' ng-model-options="{updateOn: 'submit'}" required placeholder='Name'>
    <!-- <label>When:</label><input type='text' class='form-control' ng-model='game.date' ng-model-options="{updateOn: 'submit'}" required placeholder='Location'> -->
    <!-- <div uib-timepicker ng-model="game.time" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></div> -->
    <!-- <label>When:</label><input datetime-picker timedate-formatter ng-model="gc.game.time" required> -->
    <label>When:</label>
    <div class="styler styler-daySelect">
      <select ng-model="gc.game.daySelect" ng-change="gc.selectDay()" required>
        <option value="2017, 9, 9">Sat</option>
        <option value="2017, 9, 10">Sun</option>
      </select>
    </div>
    <label>@</label>
    <select ng-model="gc.game.hour" required>
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
      <option value="4">4</option>
      <option value="5">5</option>
      <option value="6">6</option>
      <option value="7">7</option>
      <option value="8">8</option>
      <option value="9">9</option>
      <option value="10">10</option>
      <option value="11">11</option>
      <option value="12">12</option>
    </select>
    <label>:</label>
    <select ng-model="gc.game.minute" required>
      <option value="00">00</option>
      <option value="15">15</option>
      <option value="30">30</option>
      <option value="45">45</option>
    </select>
    <select ng-model="gc.game.ampm" ng-model-options="{updateOn: 'submit'}" required>
      <option value="AM">AM</option>
      <option value="PM" selected>PM</option>
    </select>
    <!-- <label>When:</label><input type="datetime-local" ng-model="game.time" required> -->
    <label>Where:</label><input type="text" class='form-control' ng-model='gc.game.location' ng-model-options="{updateOn: 'submit'}" required>
    <label>Players needed:</label><input type='text' class='form-control' ng-model='gc.game.players' ng-model-options="{updateOn: 'submit'}" required>
    <label>Notes:</label><textarea type='text' class='form-control' ng-model='gc.game.notes' ng-model-options="{updateOn: 'submit'}"></textarea>
    <button class='btn btn-default'>Save</button>
    <button class='btn btn-default' type='button' ng-click='gc.doNotEditPost(); !gc.editAreYouSure'>Cancel</button>
  </form>
</div>

<div ng-show="gc.areYouSure" class="ask-delete" ng-click='$event.stopPropagation();'>
  <div class="modal-bg"></div>
  <form class="delete-event">
    <p>Please enter this games's PIN to delete it.</p>
    <input type='tel' ng-model='gc.deletePin'>
    <p ng-show='gc.wrongPin'>{{gc.wrongPin}}</p>
    <button ng-click='gc.deleteEvent(gc.game.$id, gc.game.pin)' type='submit'>Delete</button>
    <button ng-click='gc.doNotDeletePost(); gc.more[$index] = !gc.more[$index]' type='button'>Go Back</button>
  </form>
</div>

<button class="nav-button" ui-sref='home'>Back</button>
