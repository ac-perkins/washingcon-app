<button ui-sref='createGame'>Create Game</button>
<ul>
  <section class="game-list" ng-repeat='game in home.games' ng-click='home.more[$index] = !home.more[$index]'>  <!-- ui-sref='viewGame({ id: game.$id })' -->
    <li>Game: {{game.name}}</li>
    <li>When: {{game.time | date:'short'}}</li>
    <li>Where: {{game.location}}</li>
    <li>Players needed: {{game.players}}</li>
    <!-- <li>{{game.pin}}</li> -->
    <div ng-show='home.more[$index]'>
      <li>Notes: {{game.notes}}</li>
      <button ng-click='home.askEditPost(game.$id); $event.stopPropagation();'>Edit</button>
      <button ng-click='home.askDeletePost(game.$id); $event.stopPropagation();'>Delete</button>
    </div>

      <div ng-show="home.editAreYouSure" ng-click='$event.stopPropagation();'>
        <div class="modal-bg"></div>

        <form class="delete-event">
          <p>Please enter this games's PIN to edit it.</p>
          <input type='tel' ng-model='home.editPin'>
          <p ng-show='home.wrongPin'>{{home.wrongPin}}</p>
          <button ng-click='home.editCheck(game.$id, game.pin)' type='submit'>Edit</button>
          <button ng-click='home.doNotDeletePost(); home.more[$index] = !home.more[$index]' type='button'>Go Back</button>
        </form>

        <form class='edit-event' ng-show='home.validEditCheck' ng-submit='home.editEvent(game)'>
          <label>Game:</label><input type='text' class='form-control' ng-model='game.name' ng-model-options="{updateOn: 'submit'}" required placeholder='Name'>
          <!-- <label>When:</label><input type='text' class='form-control' ng-model='game.date' ng-model-options="{updateOn: 'submit'}" required placeholder='Location'> -->
          <!-- <div uib-timepicker ng-model="game.time" ng-change="changed()" hour-step="hstep" minute-step="mstep" show-meridian="ismeridian"></div> -->
          <label>When:</label><input datetime-picker ng-model="game.time" required>
          <!-- <label>When:</label><input type="datetime-local" ng-model="game.time" required> -->
          <label>Where:</label><input type="text" class='form-control' ng-model='game.location' ng-model-options="{updateOn: 'submit'}" required>
          <label>Players needed:</label><input type='number' class='form-control' ng-model='game.players' ng-model-options="{updateOn: 'submit'}" required>
          <label>Notes:</label><textarea type='text' class='form-control' ng-model='game.notes' ng-model-options="{updateOn: 'submit'}"></textarea>
          <button class='btn btn-default'>Save</button>
          <button class='btn btn-default' type='button' ng-click='home.doNotEditPost(); home.more[$index] = !home.more[$index]'>Cancel</button>
        </form>
      </div>

      <div ng-show="home.areYouSure" class="ask-delete" ng-click='$event.stopPropagation();'>
        <div class="modal-bg"></div>
        <form class="delete-event">
          <p>Please enter this games's PIN to delete it.</p>
          <input type='tel' ng-model='home.deletePin'>
          <p ng-show='home.wrongPin'>{{home.wrongPin}}</p>
          <button ng-click='home.deleteEvent(game.$id, game.pin)' type='submit'>Delete</button>
          <button ng-click='home.doNotDeletePost(); home.more[$index] = !home.more[$index]' type='button'>Go Back</button>
        </form>
      </div>




  </section>
</ul>
