{"version":3,"sources":["app.module.js","games/create-game.controller.js","games/games.service.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CCzCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../src/app.js","sourcesContent":["(function() {\n    'use strict';\n\n  angular\n    .module('washingcon-app',['firebase', 'ui.router'])\n    .config(appConfig);\n\n  appConfig.$inject = ['$stateProvider', '$urlRouterProvider'];\n\n  function appConfig($stateProvider, $urlRouterProvider) {\n\n    $urlRouterProvider.otherwise('/');\n\n    $stateProvider\n    .state('home', {\n      url: '/',\n      templateUrl: 'home/home.template.html',\n      // controller: 'HomeController',\n      // controllerAs: 'home'\n    })\n    // .state('events', {\n    //   url: '/events/:id',\n    //   templateUrl: 'events/events.template.html',\n    //   controller: 'EventsController',\n    //   controllerAs: 'events'\n    // })\n    .state('createGame', {\n      url: '/create',\n      templateUrl: 'games/create-game.template.html',\n      controller: 'CreateGameController',\n      controllerAs: 'create'\n    });\n    // .state('editAllEvents', {\n    //   url: '/event/edit',\n    //   templateUrl: 'events/edit-all-events.template.html',\n    //   controller: 'EditEventController',\n    //   controllerAs: 'edit'\n    // });\n\n  }\n\n})();\n","(function() {\n    'use strict';\n\n    angular\n      .module('washingcon-app')\n      .controller('CreateGameController', CreateGameController);\n\n    CreateGameController.$inject = ['$scope', '$state', 'EventsService'];\n    function CreateGameController($scope, $state, EventsService) {\n\n      this.singleGameEvents = EventsService.singleGameEvents;\n      // this.gameList = NavService.allGamesArray;\n      var that = this;\n      this.newEvent = null;\n      this.errorMessage = '';\n      console.log('this.errorMessage');\n      console.log(EventsService.database);\n      EventsService.getAllEvents();\n\n      // $scope.$watch('create.newEvent.game', function makeIconSrc(v){\n      //   v = v.replace(/[^\\w]+/g, '');\n      //   that.newEvent.iconSrc = v;\n      //   console.log('$watch', that.newEvent.iconSrc);\n      // });\n\n      this.addEvent = function addEvent() {\n        return EventsService.createEvent(that.newEvent)\n          .then(function handlePromise(ref) {\n            console.log('in promise', ref);\n            // $state.go('editAllEvents');\n          })\n          .catch(function handleError(err) {\n            console.log('catch error', err);\n            that.errorMessage = 'The server is not responding. Please try again shortly.';\n          });\n      };\n\n\n    }\n\n})();\n","(function() {\n    'use strict';\n\n    angular\n      .module('washingcon-app')\n      .factory('EventsService', EventsService);\n\n    EventsService.$inject = ['$q', '$firebaseObject', '$firebaseArray'];\n    function EventsService($q, $firebaseObject, $firebaseArray) {\n\n      // var events = new Firebase('https://incandescent-heat-8431.firebaseio.com/events');\n      var database = firebase.database().ref();\n      console.log(database);\n      var allEvents = [];\n      var singleGameEvents = [];\n\n      return {\n        createEvent: createEvent,\n        getAllEvents: getAllEvents,\n        getSingleGameEvents: getSingleGameEvents,\n        getEventObject: getEventObject,\n        editEventObject: editEventObject,\n        deleteEventObject: deleteEventObject\n      };\n\n      function createEvent(newEvent) {\n        return $firebaseArray(events).$add(newEvent)\n          .then(function(ref) {\n            console.log('ref', ref);\n            var id = ref.key();\n            console.log(\"added record with id \" + id);\n            return id;\n          });\n      }\n\n      function getAllEvents() {\n        return $firebaseArray(database).$loaded()\n          .then(function(x) {\n            allEvents = x;\n            console.log(allEvents);\n            return allEvents;\n          });\n      }\n\n      function getSingleGameEvents(game) {\n        singleGameEvents = [];\n        return $firebaseArray(events).$loaded()\n          .then(function(x) {\n            x.forEach(function findEvent(each) {\n              if(each.game === game) {\n                singleGameEvents.push(each);\n              }\n            });\n            return singleGameEvents;\n          });\n      }\n\n      function getEventObject(eventId) {\n        var eventObj = new Firebase('https://incandescent-heat-8431.firebaseio.com/events/' + eventId);\n        return $firebaseObject(eventObj).$loaded()\n          .then(function(obj) {\n            console.log('$firebaseObject', obj);\n            return obj;\n          });\n      }\n\n      function editEventObject(eventId, editedEvent) {\n        var eventObj = new Firebase('https://incandescent-heat-8431.firebaseio.com/events/' + eventId);\n        console.log('editedEvent', editedEvent);\n        return eventObj.update(\n          {\n            date: editedEvent.date,\n            game: editedEvent.game,\n            iconSrc: editedEvent.iconSrc,\n            location: editedEvent.location,\n            name: editedEvent.name,\n            stream: editedEvent.stream,\n            twitter: editedEvent.twitter,\n            website: editedEvent.website\n          })\n          .then(function() {\n            return 'success!';\n        });\n      }\n\n      function deleteEventObject(eventId) {\n        var eventObj = new Firebase('https://incandescent-heat-8431.firebaseio.com/events/' + eventId);\n        return $firebaseObject(eventObj).$remove()\n          .then(function(ref) {\n            console.log(ref);\n            return ref;\n          });\n      }\n\n    }\n\n})();\n"]}